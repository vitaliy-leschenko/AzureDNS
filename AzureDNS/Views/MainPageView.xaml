<Window x:Class="AzureDNS.Views.MainPageView"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:controls="clr-namespace:AzureDNS.Controls"
        mc:Ignorable="d" Background="{StaticResource WindowBackground}"
        DataContext="{Binding ViewModel, RelativeSource={RelativeSource Self}}" WindowStartupLocation="CenterScreen"
        Title="{StaticResource appTitle}" Height="300" Width="613" IsEnabled="{Binding Path=IsEnabled}">
    
    <Window.Resources>
        <controls:BoolToVisibilityConverter x:Key="VisibilityConverter" HiddenVisibility="Hidden" />
    </Window.Resources>

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <RowDefinition Height="Auto" />
            <RowDefinition/>
        </Grid.RowDefinitions>
        <Border Background="White" BorderBrush="{StaticResource DefaultBrush}" BorderThickness="0,0,0,1">
            <DockPanel Margin="1">
                <Button Content="Select subscription" Margin="0,0,1,0" DockPanel.Dock="Left" Command="{Binding Path=SelectSubscriptionCommand}" />
                <TextBlock Text="{Binding Path=SubscriptionName}" VerticalAlignment="Center" Padding="8,0" />
            </DockPanel>
        </Border>
        <ProgressBar Grid.Row="1" IsIndeterminate="True" Visibility="{Binding Path=Loading, Converter={StaticResource VisibilityConverter}}" />
        
        <Grid Grid.Row="2">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="150"/>
                <ColumnDefinition />
            </Grid.ColumnDefinitions>
            <Border Background="White" BorderBrush="{StaticResource DefaultBrush}" BorderThickness="0,1,1,0"/>
            <DockPanel Grid.Column="0" Margin="0,1,1,0">
                <Border DockPanel.Dock="Top" Background="{StaticResource TitleBrush}" Padding="4,2" Height="24">
                    <TextBlock Text="Zones:" VerticalAlignment="Center" />
                </Border>
                <ListView ScrollViewer.HorizontalScrollBarVisibility="Disabled" 
                          ItemsSource="{Binding Path=Zones}"
                          SelectedItem="{Binding Path=CurrentZone, Mode=TwoWay}">
                    <ListView.ItemTemplate>
                        <DataTemplate>
                            <TextBlock Text="{Binding Path=Name}" TextTrimming="CharacterEllipsis" />
                        </DataTemplate>
                    </ListView.ItemTemplate>
                </ListView>
            </DockPanel>

            <Border Grid.Column="1" Background="White" BorderBrush="{StaticResource DefaultBrush}" BorderThickness="1,1,0,0" Margin="2,0,0,0"/>
            <DockPanel Grid.Column="1" Margin="3,1,0,0">
                <Border DockPanel.Dock="Top" Background="White" >
                    <StackPanel Orientation="Horizontal">
                        <Button Content="Edit" Margin="0,0,1,0" Command="{Binding Path=EditRecordCommand}" />
                        <Button Content="A" Margin="10,0,1,0" Command="{Binding Path=AddRecordCommand}" CommandParameter="A" />
                        <Button Content="AAAA" Margin="0,0,1,0" Command="{Binding Path=AddRecordCommand}" CommandParameter="AAAA" />
                        <Button Content="MX" Margin="0,0,1,0" Command="{Binding Path=AddRecordCommand}" CommandParameter="MX" />
                        <Button Content="CNAME" Margin="0,0,1,0" Command="{Binding Path=AddRecordCommand}" CommandParameter="CNAME" />
                        <Button Content="TXT" Margin="0,0,1,0" Command="{Binding Path=AddRecordCommand}" CommandParameter="TXT" />
                        <Button Content="NS" Margin="0,0,1,0" Command="{Binding Path=AddRecordCommand}" CommandParameter="NS" />
                    </StackPanel>
                </Border>
                <ListView x:Name="recordsList"
                          ScrollViewer.HorizontalScrollBarVisibility="Disabled" 
                          ItemsSource="{Binding Path=Records}"
                          SelectedItem="{Binding Path=CurrentRecord, Mode=TwoWay}">
                    <ListView.View>
                        <GridView>
                            <GridViewColumn Header="Name" DisplayMemberBinding="{Binding Path=Name}" Width="Auto" />
                            <GridViewColumn Header="Type" DisplayMemberBinding="{Binding Path=RecordType}" Width="Auto" />
                            <GridViewColumn Header="Value" DisplayMemberBinding="{Binding Path=RecordsValue}" />
                        </GridView>
                    </ListView.View>
                </ListView>
            </DockPanel>
        </Grid>
    </Grid>
</Window>
